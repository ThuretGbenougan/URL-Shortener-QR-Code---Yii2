# üîó –°–µ—Ä–≤–∏—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ + QR-–∫–æ–¥ ‚Äî –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ Yii2

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –°–æ–∫—Ä–∞—â–∞—Ç—å –¥–ª–∏–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ (URL)
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π QR-–∫–æ–¥ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏
- –í—ã–ø–æ–ª–Ω—è—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–º—É –∫–æ–¥—É –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π —Å–∞–π—Ç
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã (IP + —Å—á—ë—Ç—á–∏–∫)
- –ë–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö API

---

## ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- PHP 8+
- Yii2 Framework (basic template)
- MySQL / MariaDB
- jQuery + Bootstrap
- –õ–æ–∫–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–æ–≤ (`endroid/qr-code` –≤–µ—Ä—Å–∏—è 6.x)

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

- PHP ‚â• 8.0
- Composer ‚â• 2.0
- MySQL –∏–ª–∏ MariaDB
- –í–µ–±-–±—Ä–∞—É–∑–µ—Ä
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (Laragon, XAMPP –∏ —Ç.–¥.)

---

### 2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
git clone https://github.com/ThuretGbenougan/URL-Shortener-QR-Code---Yii2
cd URL-Shortener-QR-Code---Yii2
composer install
```

---

### 3. –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–í –≤–∞—à–µ–º –°–£–ë–î (phpMyAdmin, –∫–æ–Ω—Å–æ–ª—å –∏ —Ç.–¥.):

```sql
CREATE DATABASE shorturl_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

---

### 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î

–ò–∑–º–µ–Ω–∏—Ç–µ `config/db.php`:

```php
return [
    'class' => 'yii\db\Connection',
    'dsn' => 'mysql:host=localhost;dbname=shorturl_db',
    'username' => 'root',
    'password' => '',
    'charset' => 'utf8',
];
```

---

### 5. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏

#### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç A: —Å –ø–æ–º–æ—â—å—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π Yii2

```bash
php yii migrate
```

#### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç B: –∏–º–ø–æ—Ä—Ç SQL-–¥–∞–º–ø–∞ (`schema.sql`)

```sql
-- –ò–º–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ phpMyAdmin –∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å:
mysql -u root -p shorturl_db < schema.sql
```

---

### 6. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞:

```bash
php yii serve
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π:  
üëâ `http://localhost:8080`

---

### 7. –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –û—Ç–∫—Ä–æ–π –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. –í—Å—Ç–∞–≤—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL
3. –ù–∞–∂–º–∏ **OK**
4. –û—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è:
   - QR-–∫–æ–¥
   - –ö–æ—Ä–æ—Ç–∫–∞—è —Å—Å—ã–ª–∫–∞
   - –ö–Ω–æ–ø–∫–∞ ¬´–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å¬ª
5. –ü–µ—Ä–µ–π–¥–∏ –ø–æ —Å—Å—ã–ª–∫–µ `/u/abc123`

IP-–∞–¥—Ä–µ—Å –∏ –≤—Ä–µ–º—è –∫–ª–∏–∫–∞ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –±–∞–∑–µ.

---

## üóÉÔ∏è –¢–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `url`

| –ü–æ–ª–µ           | –¢–∏–ø         | –û–ø–∏—Å–∞–Ω–∏–µ                         |
|----------------|-------------|----------------------------------|
| `id`           | int         | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á                   |
| `original_url` | text        | –ü–æ–ª–Ω—ã–π –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π URL          |
| `short_code`   | varchar(16) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ (–ø—Ä–∏–º–µ—Ä: `abc123`)|
| `created_at`   | timestamp   | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è                    |
| `clicks`       | int         | –ö–æ–ª-–≤–æ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –ø–æ —Å—Å—ã–ª–∫–µ       |

### –¢–∞–±–ª–∏—Ü–∞ `url_log`

| –ü–æ–ª–µ         | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ                         |
|--------------|----------|----------------------------------|
| `id`         | int      | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á                   |
| `url_id`     | int      | –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ `url`            |
| `ip_address` | varchar  | IP-–∞–¥—Ä–µ—Å –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è              |
| `visited_at` | timestamp| –í—Ä–µ–º—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø–æ —Å—Å—ã–ª–∫–µ         |

---

## üìÇ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- QR-–∫–æ–¥—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ: `/web/qr/`
- –õ–æ–≥–∏ –æ—à–∏–±–æ–∫ Yii2: `/runtime/logs/app.log`
- –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ, –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö API
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π (Bootstrap)

---